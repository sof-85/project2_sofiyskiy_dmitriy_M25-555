# project2_sofiyskiy_dmitriy_M25-555

Данный проект представляет собой реализацию простейшей базы данных. 

Ядро базы данных — модуль для управления таблицами. Он позволяет создавать, проверять и удалять таблицы, определять их структуру с типами данных и сохранять метаданные в JSON-файл.

Реализован полный набор CRUD-операций (Create, Read, Update, Delete), таблицы хранятся в отдельных файлах и выводятся в удобном формате.

Обработка ошибок, подтверждение опасных операций и определение времени выполнения операций осуществляются с помощью декораторов.

Кэширование осуществляется с использованием замыкания.

Установка

Чтобы установить игру и подготовить среду разработки, выполните следующие шаги:

Шаг 1: Клонируйте репозиторий
git clone https://github.com/sof-85/project2_sofiyskiy_dmitriy_M25-555.git
cd project2_sofiyskiy_dmitriy_M25-555

Шаг 2: Установите Poetry
Проверьте наличие poetry на вашей машине командой:
poetry --version
Если команда выдает ошибку, установите Poetry согласно официальной инструкции на сайте проекта: https://python-poetry.org/docs/#installation. 

Шаг 3: Создайте виртуальное окружение и установите зависимости
Создаем виртуальное окружение и устанавливаем требуемые пакеты с помощью команды:
poetry install

Это создаст виртуальное окружение внутри вашего проекта и установит все необходимые библиотеки.

Запуск программы

Для запуска программы используйте Makefile.
Запустить программу можно следующим образом:
make database

Или запустите виртуальное окружение poetry командой
poetry shell
и запустите программу командой 
database

Основные команды:

Управление таблицами:

<command> create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> .. - создать таблицу
<command> list_tables - показать список всех таблиц
<command> drop_table <имя_таблицы> - удалить таблицу
<command> exit - выход из программы
<command> help - справочная информация

Операции с данными:

Функции:
<command> insert into <имя_таблицы> values (<значение1>, <значение2>, ...) - создать запись.
<command> select from <имя_таблицы> where <столбец> = <значение> - прочитать записи по условию.
<command> select from <имя_таблицы> - прочитать все записи.
<command> update <имя_таблицы> set <столбец1> = <новое_значение1> where <столбец_условия> = <значение_условия> - обновить запись.
<command> delete from <имя_таблицы> where <столбец> = <значение> - удалить запись.
<command> info <имя_таблицы> - вывести информацию о таблице.
<command> exit - выход из программы
<command> help- справочная информация

Примеры использования:

>>>Введите команду: create_table users name:str age:int is_active:bool
Таблица "users" успешно создана со столбцами: ID:int, name:str, age:int, is_active:bool

>>>Введите команду: create_table users name:str
Ошибка: Таблица "users" уже существует.

>>>Введите команду: list_tables
- users

>>>Введите команду: drop_table users
Таблица "users" успешно удалена.

>>>Введите команду: drop_table products
Ошибка: Таблица "products" не существует.

>>>Введите команду: help
***Процесс работы с таблицей***
Функции:
<command> create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> .. - создать таблицу
<command> list_tables - показать список всех таблиц
<command> drop_table <имя_таблицы> - удалить таблицу
<command> exit - выход из программы
<command> help - справочная информация  


Пример создания просмотра и удаления таблиц:
https://asciinema.org/a/tsihqUQl8DOVYHF3



***Операции с данными***

Функции:
<command> insert into <имя_таблицы> values (<значение1>, <значение2>, ...) - создать запись.
<command> select from <имя_таблицы> where <столбец> = <значение> - прочитать записи по условию.
<command> select from <имя_таблицы> - прочитать все записи.
<command> update <имя_таблицы> set <столбец1> = <новое_значение1> where <столбец_условия> = <значение_условия> - обновить запись.
<command> delete from <имя_таблицы> where <столбец> = <значение> - удалить запись.
<command> info <имя_таблицы> - вывести информацию о таблице.
<command> exit - выход из программы
<command> help- справочная информация

>>> Введите команду: insert into users values ("Sergei", 28, true)
Запись с ID=1 успешно добавлена в таблицу "users".

>>> Введите команду: select from users where age = 28
+----+--------+-----+-----------+
| ID |  name  | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergei | 28  |    True   |
+----+--------+-----+-----------+

>>> Введите команду: update users set age = 29 where name = "Sergei"
Запись с ID=1 в таблице "users" успешно обновлена.

>>> Введите команду: delete from users where ID = 1
Запись с ID=1 успешно удалена из таблицы "users".

>>> Введите команду: info users
Таблица: users
Столбцы: ID:int, name:str, age:int, is_active:bool
Количество записей: 0 

Пример работы с таблицами:
https://asciinema.org/a/YP283LuDhPAHFlXM